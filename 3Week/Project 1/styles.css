:root{
  --bg: #0b0d12;
  --panel: #151a22;
  --panel-2: #0f1320;
  --text: #e8eefc;
  --muted: #9aa7c0;

  --stroke: rgba(232, 238, 252, 0.26);
  --stroke-strong: rgba(232, 238, 252, 0.38);

  --box: rgba(0,0,0,0.25);
  --box-2: rgba(0,0,0,0.35);

  --radius: 18px;

  /* NEW: 충전 색 */
  --charge: #b7ff57;          /* 연두 */
  --charge-soft: rgba(183,255,87,0.35);
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans KR", Arial, sans-serif;
  background: radial-gradient(1200px 800px at 50% 40%, #18203a 0%, var(--bg) 45%);
  color: var(--text);
}

.app{
  min-height:100%;
  display:grid;
  place-items:center;
  padding: 24px;
}

.clock{ width: min(980px, 100%); }

/* NEW: frame 밖에 요소 배치용 */
.stage{
  position: relative;
  width: 100%;
}

/* 시계 박스 */
.frame{
  position: relative;
  border: 2px solid var(--stroke-strong);
  border-radius: 10px;
  background: linear-gradient(180deg, var(--panel) 0%, var(--panel-2) 100%);
  padding: 22px 22px 18px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.45);
}

/* 우상단 배터리 */
.battery{
  position:absolute;
  top: 16px;
  right: 22px;

  display:flex;
  align-items: baseline;
  gap: 8px;

  padding: 10px 14px;
  border: 2px solid var(--stroke-strong);
  border-radius: 10px;
  background: var(--box);
  user-select:none;
}
.battery__value{ font-weight: 800; }

/* NEW: 연결되면 배터리 외곽에 연두 광선(글로우) */
.battery.charging{
  border-color: var(--charge);
  box-shadow:
    0 0 0 2px rgba(183,255,87,0.25),
    0 0 18px var(--charge-soft),
    0 0 34px rgba(183,255,87,0.18);
}

/* 중앙 레이아웃 */
.layout{
  margin-top: 22px;
  padding-top: 22px;

  display:grid;
  grid-template-columns: 1fr 260px;
  grid-template-rows: auto auto;
  gap: 16px 18px;
  align-items:start;
}

.label{
  font-weight: 800;
  margin: 2px 0 10px;
}

.timeArea{ grid-column: 1; grid-row: 1; }
.timeBox{
  border: 2px solid var(--stroke-strong);
  border-radius: 8px;
  background: rgba(255,255,255,0.08);
  padding: 20px 18px;

  text-align:center;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
  font-size: 18px;
  user-select:none;
}
.timeBox.off{
  background:#000;
  color: transparent;
}

.statusArea{ grid-column: 2; grid-row: 1; }
.statusBox{
  border: 2px solid var(--stroke-strong);
  border-radius: 8px;
  background: rgba(255,255,255,0.06);
  min-height: 94px;
  padding: 12px;

  white-space: pre-line;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
}
.statusBox.ring{
  outline: 3px solid rgba(255,255,255,0.55);
  outline-offset: 2px;
}
.statusBox:not(.hasText){ color: transparent; }

.alarmRow{
  grid-column: 1 / span 2;
  grid-row: 2;

  display:flex;
  align-items:center;
  gap: 12px;
  padding-top: 6px;
}
.alarmRow__label{ font-weight: 800; margin-right: 10px; }

.mini{
  display:flex;
  align-items:center;
  gap: 8px;

  border: 2px solid var(--stroke-strong);
  border-radius: 8px;
  background: var(--box);
  padding: 8px 10px;
}
.mini__txt{
  width: 18px;
  text-align:center;
  font-weight: 800;
}
.mini__input{
  width: 66px;
  border: 0;
  outline: none;
  background: transparent;
  color: var(--text);
  font-size: 14px;
  font-weight: 650;
  text-align: right;
}

.btn{
  margin-left: 6px;
  border: 2px solid var(--stroke-strong);
  border-radius: 10px;
  background: rgba(60,92,255,0.22);
  color: var(--text);
  padding: 10px 16px;
  font-weight: 800;
  cursor:pointer;
  user-select:none;
}
.btn:active{ transform: translateY(1px); }


/* 연결 단자: frame 왼쪽 바깥에 고정 */
.port{
  position: absolute;
  left: -52px;
  top: 56px;

  width: 44px;
  height: 44px;
  border-radius: 12px;

  border: 2px solid var(--stroke-strong);
  background: rgba(255,255,255,0.06);
  box-shadow: 0 10px 25px rgba(0,0,0,0.35);

  display:grid;
  place-items:center;
}

.port__hole{
  width: 18px;
  height: 18px;
  border-radius: 8px;
  background: rgba(0,0,0,0.55);
  border: 2px solid rgba(232,238,252,0.25);
}

/* 연결 상태일 때 포트도 연두로 */
.port.connected{
  border-color: var(--charge);
  box-shadow:
    0 0 0 2px rgba(183,255,87,0.18),
    0 0 18px var(--charge-soft),
    0 10px 25px rgba(0,0,0,0.35);
}

/* 케이블: 드래그 가능(굵은 흰 선 + 헤드) */
.cable{
  position: absolute;
  left: -320px;    /* 기본 시작 위치(원하면 조절) */
  top: 62px;

  width: 270px;    /* 선 길이 */
  height: 30px;    /* 드래그 히트박스 높이 */
  touch-action: none;
  user-select: none;
  cursor: grab;
}

.cable.dragging{ cursor: grabbing; }

/* 굵은 흰 선 */
.cable__line{
  position:absolute;
  left: 0;
  top: 50%;
  transform: translateY(-50%);

  width: 240px;
  height: 10px;
  border-radius: 999px;

  background: rgba(255,255,255,0.92);
  box-shadow: 0 8px 18px rgba(0,0,0,0.25);
}

/* 케이블 헤드(끝점): 이게 포트에 닿는지 체크 */
.cable__head{
  position:absolute;
  right: 0;
  top: 50%;
  transform: translateY(-50%);

  width: 26px;
  height: 26px;
  border-radius: 10px;

  background: rgba(255,255,255,0.95);
  border: 2px solid rgba(0,0,0,0.25);
  box-shadow: 0 8px 18px rgba(0,0,0,0.25);
}

/* 연결됐을 때 케이블도 연두 빛 */
.cable.connected .cable__line{
  box-shadow:
    0 0 16px var(--charge-soft),
    0 8px 18px rgba(0,0,0,0.25);
}
.cable.connected .cable__head{
  outline: 3px solid rgba(183,255,87,0.55);
  outline-offset: 2px;
}

/* 반응형 */
@media (max-width: 720px){
  .layout{ grid-template-columns: 1fr; }
  .statusArea{ grid-column: 1; }
  .alarmRow{ grid-column: 1; flex-wrap: wrap; }

  /* 모바일에서 port/cable이 너무 밖으로 나가면 살짝 안쪽으로 */
  .port{ left: -36px; }
  .cable{ left: -260px; }
}
